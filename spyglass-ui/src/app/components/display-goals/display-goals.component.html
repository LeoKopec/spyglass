<div class="display-data">
    <p-dataView [value]="goals" [paginator]="true" [rows]="5">
        <ng-template pTemplate="header">
            <div class="header-flex">
                <div class="user-header">{{userFromHome.firstName}}'s Goals</div>
                <div class="add-button"><button pButton class="p-button-success" pRipple type="button" icon="pi pi-plus" iconPos="left" label="New Goal"></button></div>
            </div>
        </ng-template>
        <ng-template let-goal pTemplate="listItem">
            <div class="flex-container">
                <div class="left-side">
                    <div><img src="{{goal.image}}" alt="goal image"></div>
                    <div class="details">
                        <div class="top">
                            <div class="goal-name">{{goal.name}}</div>
                            <div class="goal-description">{{goal.description}}</div>
                        </div>
                        <div class="bottom">
                            <div class="progress">Progress:</div>
                            <div class="goal-money"><b>{{goal.currentAmount | currency}}</b> of <b>{{goal.totalAmount | currency}}</b></div>
                            <div><p-progressBar [value]="((goal.currentAmount / goal.totalAmount) * 100)" [style]="{'height': '1.5em', 'width': '30em', 'border-radius': '25px'}"></p-progressBar></div>
                        </div>
                    </div>
                </div>
                <div class="right-side">
                    <div class="date">{{goal.date | date:'LLL dd, yyyy'}}</div>
                    <br>
                    <div class="view"><button pButton pRipple type="button" label="View Goal" (click)="sendDataToView(goal)"></button></div>
                    <br>
                    <div class="delete">
                        <form (submit)="confirm(goal.id)">
                            <button pButton pRipple type="submit" label="Delete Goal"></button>
                        </form>
                    </div>
                </div>
            </div>
        </ng-template>
    </p-dataView>
</div>
<form (submit)="getGoals()">
    <label class="labels" for="searchName">Enter Email:</label> <br>
    <input type="text" pInputText name="searchName" [(ngModel)]="username"/> <br>
    <button pButton type="submit" class="p-button-raised p-button-rounded p-button-success">Submit</button>
</form>
<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>
